<div class="page-header">
  <div class="container">
    <h1 class="page-title">Reserved Books</h1>
    <p class="mb-0 text-muted">List of books you have reserved.</p>
  </div>
</div>

<div class="container mt-4">
  <div class="row">
    <div class="col-12">
      <div *ngIf="message" class="alert" [class.alert-info]="isSearching && filteredBooks.length > 0"
           [class.alert-danger]="isSearching && filteredBooks.length === 0"
           [class.alert-success]="level==='success' && !isSearching"
           role="alert">
        <p>{{message}}</p>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col-md-6 col-lg-4" *ngFor="let book of filteredBooks">
      <app-book-card
        [book]="book"
        (details)="displayBookDetails($event)"
        (removeFromWaitingList)="removeBook($event)"
      >
      </app-book-card>
    </div>
  </div>

  <div *ngIf="!isSearching && pages.length === 0" class="text-center my-5">
    <i class="fa-solid fa-circle-exclamation fa-2x text-muted mb-2"></i>
    <p class="text-muted">No reserved books available.</p>
  </div>

  <nav *ngIf="!isSearching && pages.length > 1 " aria-label="Page navigation" class="mt-4">
    <ul class="pagination justify-content-center">
      <li class="page-item">
        <a (click)="goToFirstPage()" class="page-link" href="javascript:void(0)" [class.disabled]="page === 0">
          <i class="fa-solid fa-angles-left"></i>
        </a>
      </li>
      <li class="page-item">
        <a (click)="goToPreviousPage()" class="page-link" href="javascript:void(0)" [class.disabled]="page === 0">
          <i class="fa-solid fa-angle-left"></i>
        </a>
      </li>
      <li class="page-item" *ngFor="let pageIndex of pages">
        <a (click)="gotToPage(pageIndex)" class="page-link" [class.active]="page === pageIndex" href="javascript:void(0)">
          {{ pageIndex + 1 }}
        </a>
      </li>
      <li class="page-item">
        <a (click)="goToNextPage()" class="page-link" href="javascript:void(0)" [class.disabled]="isLastPage">
          <i class="fa-solid fa-chevron-right"></i>
        </a>
      </li>
      <li class="page-item">
        <a (click)="goToLastPage()" class="page-link" href="javascript:void(0)" [class.disabled]="isLastPage">
          <i class="fa-solid fa-angles-right"></i>
        </a>
      </li>
    </ul>
  </nav>
</div>
